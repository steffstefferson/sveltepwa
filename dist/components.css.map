{
  "version": 3,
  "file": "components.css",
  "sources": [
    "..\\App.svelte",
    "..\\Facts.svelte",
    "..\\Map.svelte",
    "..\\Images.svelte",
    "..\\ImageFullScreen.svelte",
    "..\\ManageContribution.svelte",
    "..\\Fact.svelte",
    "..\\Image.svelte",
    "..\\LocationSelector.svelte",
    "..\\ImageSelector.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n  import Facts from './components/Facts.svelte';\r\n  import Images from './components/Images.svelte';\r\n  import Map from './components/Map.svelte';\r\n  import AddPlaceToBe from './components/AddPlaceToBe.svelte';\r\n  import Login from './components/Login.svelte';\r\n  import ImageFullScreen from './components/ImageFullScreen.svelte';\r\n  import HeaderTopBar from './components/HeaderTopBar.svelte';\r\n  import Contribution from './components/Contribution.svelte';\r\n  import ManageContribution from './components/ManageContribution.svelte';\r\n  import Notification from './components/Notification.svelte';\r\n  import router from \"page\"\r\n  import { DenseFixedAdjust} from '@smui/top-app-bar';\r\n\r\n  if ('serviceWorker' in navigator) {\r\n      //navigator.serviceWorker.register('/service-worker.js');\r\n    }\r\n  let page\r\n  let params\r\n  \r\n  router('/facts', () => page = Facts)\r\n  router('/login', () => page = Login)\r\n  router('/contribute', () => page = Contribution)\r\n  router('/admin/contributions', () => page = ManageContribution)\r\n  router('/admin/addImage', () => page = AddPlaceToBe)\r\n  router('/facts/:factKey', (ctx, next) => {\r\n      params = ctx.params\r\n      next()\r\n    }, \r\n    () => page = ImageFullScreen)\r\n  router('/images', () => page = Images)\r\n  router('/images/:imageKey', (ctx, next) => {\r\n      params = ctx.params\r\n      next()\r\n    }, \r\n    () => page = ImageFullScreen)\r\n  router('/*', () => page = Map)\r\n  router.start()\r\n</script>\r\n\r\n<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/icon?family=Material+Icons\">\r\n<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,600,700\">\r\n<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto+Mono\">\r\n<style>:global(body){background-color:#f8f8f8;margin:0}:global(.formButton){margin-top:20px;margin-left:10px;float:right}:global(app,body,html){display:block!important;height:auto!important;width:auto!important;position:static!important;font-family:Roboto,sans-serif}\n/*# sourceMappingURL=src/App.svelte.map */</style>\r\n<HeaderTopBar></HeaderTopBar>\r\n<main class=\"overflow-hidden;\" style=\"padding-top: 12px;\" DenseFixedAdjust>\r\n    <svelte:component this={page} params={params} />\r\n</main>\r\n<Notification></Notification>\r\n",
    "<script>\r\n  import { svelteFactStore, deleteFact  } from './../services/factsService';\r\n  import { notify  } from './../services/notifyService';\r\n  import Fact from './Fact.svelte';\r\n  import Button, {Label} from '@smui/button';\r\n  import { userStore } from './../services/loginService.js';\r\n   import Kitchen from '@smui/snackbar/kitchen/index';\r\n\r\n  let loggedIn = false;\r\n  userStore.subscribe(user => {\r\n\t\tloggedIn = user.loggedIn;\r\n  });\r\n  \r\n  let kitchen;\r\n\r\n  function onDeleteFact(event){\r\n    return pushToKitchen(event.detail.fact);\r\n  }\r\n\r\nfunction deleteFactSerious(fact){\r\n    deleteFact(fact).then(success => {\r\n        if(success){\r\n          notify('fact was deleted');\r\n        }else{\r\n          notify('something went wrong while deleting the fact');\r\n        }\r\n    });\r\n}\r\n\r\n\r\n  function pushToKitchen(fact) {\r\n    kitchen.push({\r\n      props: {\r\n        variant: 'stacked'\r\n      },\r\n      label: 'Do you really want to delete this fact?',\r\n      actions: [\r\n        {\r\n          onClick: () => deleteFactSerious(fact),\r\n          text: 'Yes, please'\r\n        },\r\n        {\r\n          text: 'Nope'\r\n        }\r\n      ],\r\n      dismissButton: false\r\n    });\r\n  }\r\n\r\n</script>\r\n\r\n<style type=\"text/postcss\">.list{display:flex;flex-wrap:wrap;justify-content:space-evenly}.list-item{display:flex;padding:.5em;width:350px;flex-grow:1}.list-content{background-color:#fff;display:flex;flex-direction:column;padding:1em;width:100%}.list-content p{flex:1 0 auto}[dir=ltr] ul{padding-left:5px}[dir=rtl] ul{padding-right:5px}\n/*# sourceMappingURL=src/components/Facts.svelte.map */</style> \r\n<div style=\"height: 50px;\">\r\n    <Button href=\"/contribute\"\r\n    variant=\"raised\"\r\n    class=\"formButton\">\r\n      <Label>Contribute your own fact</Label>\r\n    </Button>\r\n    </div>\r\n<div>\r\n  <ul class=\"list\">\r\n  {#each $svelteFactStore as fact}\r\n  <li class=\"list-item\">\r\n  <Fact fact={fact} hasDeleteButton=\"{loggedIn}\"  on:delete=\"{onDeleteFact}\" hasAcceptButton=\"{false}\" class=\"list-content\"></Fact>\r\n  </li>\r\n  {/each}\r\n  </ul>\r\n</div>\r\n\r\n<Kitchen bind:this={kitchen} dismiss$class=\"material-icons\" />\r\n",
    "<script>\nimport { onMount } from 'svelte';\nimport {Icon} from '@smui/icon-button';\nimport { getImages } from \"../services/imageSerivce.js\"\nimport { tick } from 'svelte';\n\nlet map;\nlet mapElement;\nlet markers =  [];\n\nfunction initMap() {\n    if(!googleMapsLoaded){\n        return;\n    };\n    let initialCoords =  {lat: 46.65, lng: 7.709}\n    \n    map = new google.maps.Map(mapElement, {\n        center: initialCoords,\n        zoom: 3\n    });\n}\n\nfunction addImageToMap(image){\n    if(markers.some(x => x.key == image.key)){\n        return;\n    }\n\n    var marker = new google.maps.Marker({\n        position: {lat: image.location.latitude,lng: image.location.longitude},\n        title:image.imageTitle,\n        map: map,\n        animation: google.maps.Animation.DROP,\n    });\n    marker.key = image.key;\n    marker.addListener('click', function() {\n        createInfoWindow(image,marker);\n    });\n     marker.addListener('mouseover', function() {\n        createInfoWindow(image,marker);\n    });\n    markers.push(marker);\n}\n\n// To add the marker to the map, call setMap();\n\nasync function addImagesToMap(images){\n    while(images.length > 0){\n        let i = 0;\n    while(images.length > 0 && i++ < 10){\n        addImageToMap(images.pop());\n    }\n    await tick();\n    }\n}\n\nonMount(async () => {\n    initMap();\n    getImages().subscribe(addImagesToMap);\n});\n\nfunction getTemplate(image){ \n    return `<div id=\"content\" class=\"markerPopUp\">\n    <h2>${image.imageTitle}</h2>\n    <div>\n    <img src=\"${image.thumbnail}\" alt=\"${image.imageTitle}\" />\n    <p>${image.funFact}</p>\n    </div></div>`;\n};\nlet infowindow = null;\nfunction createInfoWindow(image,marker){\n  if(infowindow){\n      infowindow.close();\n  }\n  infowindow = new google.maps.InfoWindow({\n    content:  getTemplate(image)\n  });\n    infowindow.open(map, marker);\n}\n\n</script>\n\n<style type=\"text/postcss\">#map,.mapContainer{height:100%;width:100%}.mapContainer{position:absolute}:global(.markerPopUp){padding:10px;background-color:#fff;text-align:center;max-width:210px}:global(.markerPopUp img){max-height:150px}\n/*# sourceMappingURL=src/components/Map.svelte.map */</style>\n<div class=\"mapContainer\">\n    <div id=\"map\" bind:this={mapElement}></div>\n</div>",
    "<script>\r\n  import { getImages } from \"../services/imageSerivce.js\"\r\n  import Image from './Image.svelte';\r\n  import { userStore } from './../services/loginService.js';\r\n  import Kitchen from '@smui/snackbar/kitchen/index';\r\n  import {deleteImageAndMetadata} from \"../services/imageUploadService.js\"\r\n  import { notify } from './../services/notifyService.js';\r\n\r\n  const localStore = getImages();\r\n\r\n  let loggedIn = false;\r\n  userStore.subscribe(user => {\r\n\t\tloggedIn = user.loggedIn;\r\n  });\r\n  \r\n  let kitchen;\r\n\r\n  function onDeleteLocation(event){\r\n    return pushToKitchen(event.detail);\r\n  }\r\n\r\nfunction deleteLocationSerious(location){\r\n    deleteImageAndMetadata(location).then(() => {\r\n          notify('location was deleted');\r\n        },() =>{\r\n          notify('something went wrong while deleting the location');\r\n    });\r\n}\r\n\r\n\r\n  function pushToKitchen(location) {\r\n    kitchen.push({\r\n      props: {\r\n        variant: 'stacked'\r\n      },\r\n      label: 'Do you really want to delete this location?',\r\n      actions: [\r\n        {\r\n          onClick: () => deleteLocationSerious(location),\r\n          text: 'Yes, please'\r\n        },\r\n        {\r\n          text: 'Nope'\r\n        }\r\n      ],\r\n      dismissButton: false\r\n    });\r\n  }\r\n</script>\r\n\r\n<style type=\"text/postcss\">.list{display:flex;flex-wrap:wrap;justify-content:space-evenly}.list-item{display:flex;padding:.5em;width:300px}.list-content{background-color:#fff;display:flex;flex-direction:column;padding:1em;width:100%}.list-content p{flex:1 0 auto}\n/*# sourceMappingURL=src/components/Images.svelte.map */</style>\r\n<div>\r\n  <ul class=\"list\">\r\n  {#each $localStore as image}\r\n  <li class=\"list-item\">\r\n  <Image image={image} hasDeleteButton=\"{loggedIn}\"  on:delete=\"{onDeleteLocation}\" class=\"list-content\"></Image>\r\n  </li>\r\n  {/each}\r\n  </ul>\r\n</div>\r\n\r\n<Kitchen bind:this={kitchen} dismiss$class=\"material-icons\" />",
    "<script>\nimport {getImage} from \"../services/imageSerivce.js\"\nimport { getDisplayTime } from \"../services/displayTime.js\";\n\nexport let params;\n\nlet showText = true;\nconsole.log(params);\nlet backgroundStyle = \"\";\nlet image = load(params.imageKey,0);\nlet backUrl = \"/images\";\n\nfunction toggleText(){\n    showText = !showText;\n}\n\nfunction getPreviousImage(e){\n    image = load(image.imageKey,-1);\n}\n\nfunction getNextImage(e){\n    image = load(image.imageKey,1);\n}\n\nfunction load(imageKey,offset){\n    const img = getImage(imageKey,offset);\n    backgroundStyle = \"background-image: url(\"+(img.fullImageSizeUrl || img.thumbnail)+\")\";\n    if(!img.fullImageSizeUrl){\n    img.loadFullSizeImage().then((fullSizeImageUrl) =>{\n        backgroundStyle = \"background-image: url(\"+fullSizeImageUrl+\")\";\n    });\n    }\n    return img;\n}\n\n</script>\n<div class=\"container\" style=\"{backgroundStyle}\">\n    <div class=\"showHideInfoArea\" on:mousedown=\"{toggleText}\" on:mouseup=\"{toggleText}\"> </div>\n    <div class=\"textContainer\" style=\"visibility: {showText ? 'inherit' : 'hidden'}\">\n        <button on:click=\"{getPreviousImage}\">back</button>\n        <div>\n            <div>\n                <span class=\"title\">{ image.imageTitle }</span>\n                <span>{ getDisplayTime(image.insertTime) }</span>\n                <a href=\"{backUrl}\">x</a>\n            </div>\n            <div class=\"text\">{ image.funFact }</div>\n            <div class=\"subtitle\"></div>\n        </div>\n        <button on:click=\"{getNextImage}\">next</button>\n    </div>\n    \n</div>\n\n<style>.container{background-position:50%;background-repeat:no-repeat;background-size:cover;height:100%;position:absolute;top:0}.textContainer{background-color:#ff0;border:1px solid #000;padding:10px;margin:10px;display:-ms-grid;display:grid;-ms-grid-columns:50px auto 50px;grid-template-columns:50px auto 50px}.textContainer div{width:100%}.showHideInfoArea{height:80%;position:absolute;top:20%;border:none;width:100%}.title{font-size:18px}.text{font-size:14px}\n/*# sourceMappingURL=src/components/ImageFullScreen.svelte.map */</style>",
    "<script>\r\n  import { svelteFactProposalStore, deleteFactProposal,acceptFactProposal } from './../services/factsService';\r\n  import Fact from './Fact.svelte';\r\n  import Button, {Label} from '@smui/button';\r\n  import { notify  } from './../services/notifyService';\r\n  import { userStore } from './../services/loginService.js';\r\n\r\n  let loggedIn = false;\r\n  userStore.subscribe(user => {\r\n\t\tloggedIn = user.loggedIn;\r\n\t});\r\n\r\nfunction onDeleteFactProposal(event){\r\n  deleteFactProposal(event.detail.fact).then(success => {\r\n      if(success){\r\n        notify('fact was deleted');\r\n      }else{\r\n        notify('something went wrong while deleting the fact');\r\n      }\r\n  })\r\n}\r\n\r\nfunction onAcceptFactProposal(event){\r\n  acceptFactProposal(event.detail.fact).then(success => {\r\n      if(success){\r\n        notify('fact was accepted');\r\n      }else{\r\n        notify('something went wrong while accepting the fact');\r\n      }\r\n  })\r\n}\r\n</script>\r\n<style type=\"text/postcss\">.list{display:flex;flex-wrap:wrap;justify-content:space-evenly}.list-item{display:flex;padding:.5em;width:350px;flex-grow:1}.list-content{background-color:#fff;display:flex;flex-direction:column;padding:1em;width:100%}.list-content p{flex:1 0 auto}[dir=ltr] ul{padding-left:5px}[dir=rtl] ul{padding-right:5px}\n/*# sourceMappingURL=src/components/ManageContribution.svelte.map */</style> \r\n<h1>Manage fact purposals</h1>\r\n<div>\r\n  <ul class=\"list\">\r\n  {#each $svelteFactProposalStore as fact}\r\n  <li class=\"list-item\">\r\n  <Fact fact={fact} hasDeleteButton=\"{loggedIn}\" hasAcceptButton=\"{loggedIn}\" on:delete=\"{onDeleteFactProposal}\"  on:accept=\"{onAcceptFactProposal}\" class=\"list-content\"></Fact>\r\n  </li>\r\n  {/each}\r\n  </ul>\r\n</div>\r\n",
    "<script>\nimport { createEventDispatcher } from 'svelte';\nimport {getDisplayTime} from \"../services/displayTime.js\"\n import Card from '@smui/Card';\nimport Button,{Label} from '@smui/Button';\n\nexport let fact;\nexport let hasDeleteButton;\nexport let hasAcceptButton;\n\nconst dispatch = createEventDispatcher();\n\nfunction deleteFact(){\n\t\tdispatch('delete', {fact});\n}\nfunction acceptFact(){\n\tdispatch('accept', {fact});\n}\n\n</script>\n\n  <div style=\"display: flex; flex-wrap: wrap;\">\n    <div class=\"card-container short factContainer\">\n      <Card style=\"background-color: #ffff65;\" padded>{ fact.fact }\n      <div class=\"factSubtitle\">{ getDisplayTime(fact.insertTime) } | by {fact.contributor}</div>\n      </Card>\n      {#if hasDeleteButton}\n        <Button on:click={deleteFact}\n        variant=\"raised\"\n         class=\"formButton\"\n        >\n        <Label>Delete fact</Label>\n        </Button>\n    {/if}\n          {#if hasAcceptButton}\n        <Button on:click={acceptFact}\n        variant=\"raised\" class=\"formButton\">\n        <Label>Accept fact</Label>\n        </Button>\n    {/if}\n    </div>\n    </div>\n\n\n<style>.factContainer{width:100%;max-width:350px;min-width:350px}.factSubtitle{font-size:12px;text-align:right}\n/*# sourceMappingURL=src/components/Fact.svelte.map */</style>",
    "<script>\nimport {getDisplayTime} from \"../services/displayTime.js\"\nimport { createEventDispatcher } from 'svelte';\nimport Button,{Label} from '@smui/Button';\n\nexport let image;\nexport let hasDeleteButton;\n\nlet landscapeClass = \"portrait\";\n\n\nconst dispatch = createEventDispatcher();\n\nfunction deleteLocation(){\n\t\tdispatch('delete', image);\n}\n\n\nfunction imageLoaded(e) {\n   if(e.target.width > e.target.height){\n       landscapeClass = \"landscape\";\n   }\n}\nfunction addToLocalStorage(image){\n    localStorage.setItem('currentImage',JSON.stringify(image));\n}\n\n</script>\n\n<div class=\"imageContainer\">\n<a href=\"/images/{image.imageKey}\" on:click=\"{addToLocalStorage(image)}\">\n    <div class=\"imageText\">{ image.imageTitle }</div>\n    <div class=\"square\">\n    <img src=\"{image.thumbnail}\" class=\"{landscapeClass}\" on:load=\"{imageLoaded}\" alt=\"{image.funimage}\" />\n    </div>\n    <div class=\"imageText\">{ image.funFact }</div>\n    <div class=\"imageSubtitle\">{ getDisplayTime(image.insertTime) }</div>\n</a>\n  {#if hasDeleteButton}\n        <Button on:click={deleteLocation}\n        variant=\"raised\"\n         class=\"formButton\">\n        <Label>Delete location</Label>\n        </Button>\n    {/if}\n\n</div>\n\n<style>.imageContainer{border:2px solid #b7b3b3;width:100%;margin:5px;padding:15px;background-color:#ffff65;box-shadow:-3px -6px rgba(209,210,183,.18039);font-size:18px}.imageText{width:100%}.imageSubtitle{font-size:12px;float:right}.square{position:relative;width:200px;height:200px;overflow:hidden;margin:auto}img{position:absolute;max-width:100%;width:100%;height:auto;top:50%;left:50%;transform:translate(-50%,-50%)}img.landscape{height:100%;width:auto;-o-object-fit:cover;object-fit:cover}\n/*# sourceMappingURL=src/components/Image.svelte.map */</style>",
    "<script>\nimport { onMount } from 'svelte';\nimport { getPositionByCoords,getPositionByAddress } from './../services/geoLocationService.js';\nimport Button, {Label} from '@smui/button';\nimport Textfield from '@smui/textfield';\nimport HelperText from '@smui/textfield/helper-text/index';\nimport Radio from '@smui/radio';\nimport FormField from '@smui/form-field';\nimport {Icon} from '@smui/icon-button';\nimport { createEventDispatcher } from 'svelte';\nconst dispatch = createEventDispatcher();\n\nexport let location = {};\n\nlet map;\nlet mapElement;\nlet marker =  {};\nlet selectedOption = 'map';\nlet addressSearch = '';\nfunction initMap() {\n    if(!googleMapsLoaded){\n        return;\n    };\n    let initialCoords =  {lat: 46.65, lng: 7.709}\n    \n    if(location && location.latitude){\n        initialCoords = {lat: location.latitude , lng: location.longitude };\n    }else{\n        updateLocationByCoords(initialCoords.lat,initialCoords.lng);\n    }\n    map = new google.maps.Map(mapElement, {\n        center: initialCoords,\n        zoom: 8\n    });\n    marker = new google.maps.Marker({\n        map: map,\n        draggable: true,\n        animation: google.maps.Animation.DROP,\n        position: initialCoords,\n    });\n    marker.addListener('dragend',function(){\n        console.log(marker);\n        updateLocationByCoords(marker.position.lat(),marker.position.lng());\n    })\n}\n\nasync function updateLocationByCoords(lat,lng) {\n    try{\n        location = await getPositionByCoords(lat, lng);\n        dispatch('locationChoosen',location);\n    }catch(e){\n        console.log('updateLocationByCoords: error while looking up coords',e);\n    }\n};\nasync function getByAddress(e) {\n   e.preventDefault();\n    try{\n        location = await getPositionByAddress(addressSearch);\n        dispatch('locationChoosen',location);\n    }catch(e){\n        console.log('getByAddress: error while looking up coords',e);\n    }\n    return false;\n};\n\nonMount(async () => {\n    optionChanged();\n});\n\nlet locationOfDevice = {};\nfunction optionChanged(){\n    if(selectedOption == 'map'){\n        initMap();\n    }else if(selectedOption == 'device'){\n        locationOfDevice = {msg: \"Locate your device postion.....\", icon: \"phonelink_ring\"};\n        if (!navigator.geolocation) {\n            locationOfDevice = {msg: \"Looks like your phone does not support gelocation\", icon: \"local_phone\"};\n            return;\n        }\n\n            navigator.geolocation.getCurrentPosition((position) => {\n                locationOfDevice = {msg: \"Location found\", icon: \"done\"};\n                location = {latitude :position.coords.latitude,longitude :position.coords.longitude};\n                updateLocationByCoords(position.coords.latitude,position.coords.longitude);\n            },(error) => {\n                if(error.code == 1){\n                locationOfDevice ={msg: \"Error on fetching the device's locaction\", icon: \"phonelink_erase\"};\n                }else{\n                locationOfDevice = {msg: \"Lurin has no rights to access your device's location 💩\", icon: \"phonelink_lock\"};\n                }\n            });\n    }\n}\n</script>\n\n<style type=\"text/postcss\">#map{height:300px;width:100%}\n/*# sourceMappingURL=src/components/LocationSelector.svelte.map */</style>\n<div>\n<h2>Add location</h2>\n  <div>\n      <FormField>\n        <Radio bind:group={selectedOption} value=address on:change=\"{optionChanged}\"  />\n        <span slot=\"label\">By address</span>\n      </FormField>\n            <FormField>\n        <Radio bind:group={selectedOption} value=map on:change=\"{optionChanged}\" />\n        <span slot=\"label\">By map location</span>\n      </FormField>\n            <FormField>\n        <Radio bind:group={selectedOption} value=device on:change=\"{optionChanged}\"  />\n        <span slot=\"label\">Device location</span>\n      </FormField>\n  </div>\n\n\n{#if selectedOption=='address'}\n<div>\n    <h3>Choose by address</h3>\n    <div>\n        <Textfield class=\"shaped-outlined\" variant=\"outlined\" bind:value={addressSearch} label=\"Address\"\n        style=\"width: 100%;\"\n        input$required\n        input$min-length=5\n        input$max-length=240\n        input$aria-controls=\"helper-text-shaped-outlined-a\" \n        input$aria-describedby=\"helper-text-shaped-outlined-a\" />\n        <HelperText id=\"helper-text-shaped-outlined-a\">Where have you been? Enter a address, Lurin will guess the coordinates.</HelperText>\n    </div>\n    <div style=\"width: 100%;height: 80px;\">\n        <Button  on:click=\"{getByAddress}\"\n        variant=\"raised\"\n        class=\"formButton\">\n        <Label>Get coords by address</Label>\n        </Button>\n    </div>\n</div>\n{:else if selectedOption=='device'}\n<div>\n    <h3>Choose by device</h3>\n    <Icon class=\"material-icons\" style=\"vertical-align: text-bottom\">{locationOfDevice.icon}</Icon><span>{locationOfDevice.msg}</span>\n</div>\n  {:else if selectedOption=='map'}\n<div> \n    <h3>Choose by map</h3>\n    <div id=\"map\" bind:this={mapElement}></div>\n</div>\n{/if}\n\n{#if location.address}\n<h3>Choosen location</h3>\nLatitdude: {location.latitude}<br/>\nLongitude: {location.longitude}<br/>\nAddress: {location.address}<br/>\nCountry: {location.country}<br/>\n{/if}\n</div>",
    "<script>\n  import { saveImageAndMetadata } from './../services/imageUploadService.js';\n  import {resizeImage,getOrientation, rotatePhoto } from './../services/imageResizeService.js'\n  import IconButton, {Icon} from '@smui/icon-button';\n  import { notify } from './../services/notifyService.js';\n  import Button, {Label} from '@smui/button';\n  import { onMount } from 'svelte';\n  import LocationSelector from './LocationSelector.svelte';\nimport { createEventDispatcher } from 'svelte';\nconst dispatch = createEventDispatcher();\n\nlet uploadedFiles = [];\nlet thumbnailImage = null;\nlet fullsizeImage = null;\n\nfunction handleFiles(e){\n    readFile(e.target.files[0]).then(([thumb,fullSize]) =>{\n        thumbnailImage = thumb;\n        fullsizeImage = fullSize;\n        dispatch('imageChoosen', {thumbnailImage,fullsizeImage});\n    })\n}\n\nasync function  readFile(f){\n    return new Promise((resolve,reject) => {\n    let thumbImage;\n    let fullsizeImage;\n    var reader = new FileReader();\n    reader.onload = async function(e) {\n        let orientation = await getOrientation(f);\n        console.log(`orientation of photo is: ${orientation.degree}`);\n        var rotatedResult = await rotatePhoto(e.target.result, orientation.degree);\n        var promiseThumb = resizeImage(rotatedResult, 200);\n        var promise = resizeImage(rotatedResult, 1024);\n        Promise.all([promiseThumb,promise])\n        .then((r)=>{\n            resolve(r);\n        })\n        .catch(e => {\n            console.log(e); \n            reject(e);\n        });\n    }\n    reader.readAsDataURL(f);\n    });\n}\n\nfunction deleteImages(){\n    thumbnailImage = null;\n    fullsizeImage = null;\n    dispatch('imageChoosen', {thumbnailImage,fullsizeImage});\n}\n\n</script>\n\n<style type=\"text/postcss\">.dropZoneContainer,.dropZoneOverlay,.FileUpload{width:100%;height:71px;cursor:pointer}.dropZoneOverlay{border:1px dotted;font-family:cursive;color:grey;border-radius:4px 4px 0 0;position:relative;top:-71px;text-align:center}.FileUpload{opacity:0;position:relative;z-index:1}.flex-grid-imageOk{display:flex;min-height:70px}.col{flex:auto}\n/*# sourceMappingURL=src/components/ImageSelector.svelte.map */</style>\n<div>\n<h2>Select image</h2>\n  <div class=\"dropZoneContainer\">\n        <input type=\"file\" id=\"drop_zone\"  bind:value={uploadedFiles} class=\"FileUpload\" accept=\".jpg,.png,.gif\" on:change=\"{handleFiles}\" />\n        <div class=\"dropZoneOverlay\">Drag and drop your image <br />or<br />Click to add</div>\n    </div>\n    {#if thumbnailImage}\n        <div class=\"flex-grid-imageOk\">\n            <div class=\"col\" style=\"padding: 4px;\"><img src=\"{thumbnailImage}\" style=\"max-height:60px;height:100%\" alt=\"thmbnail\" /></div>\n            <div class=\"col\" style=\"padding-top: 12px;\"><Icon class=\"material-icons\" style=\"vertical-align: text-bottom;\">done</Icon>  Thumbnail is ready!\n                {#if fullsizeImage}\n                <br/><Icon class=\"material-icons\" style=\"vertical-align: text-bottom;\">done</Icon> Fullsize is ready!\n                {/if}\n            </div>\n            <div class=\"col\">\n                <Button on:click=\"{deleteImages}\"\n                disabled={!thumbnailImage}  \n                variant=\"raised\"\n                class=\"formButton\">\n                <Label>Delete</Label>\n                </Button>\n            </div>\n        </div>\n    {/if}\n</div>\n\n"
  ],
  "names": [],
  "mappings": "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"
}